version: '{build}'

os: 
  - Visual Studio 2017

environment:
  matrix:
  - additional_flags: "14"
  - additional_flags: "17"

init: []

install:
 - git submodule update --init --recursive

build_script:
  - cmake . -G"Visual Studio 15 2017 Win64" -DTEST_LanguageStandard="%additional_flags%"
  - cmake --build . --config Release

test_script:
  - ctest --output-on-failure -C Release -V
